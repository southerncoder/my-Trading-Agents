# TradingAgents Environment Configuration
# Copy this file to .env.local and fill in your actual values
# DO NOT commit .env.local to version control

# =====================================
# LLM Provider Configuration
# =====================================
# Provider: openai | lm_studio | google | anthropic | ollama
LLM_PROVIDER=openai
DEEP_THINK_LLM=o1-mini
QUICK_THINK_LLM=gpt-4o-mini

# Default LLM model for general use
DEFAULT_LLM_MODEL=gpt-4o-mini

# Agent-specific model overrides (optional - falls back to DEFAULT_LLM_MODEL)
MARKET_ANALYST_LLM_MODEL=
SOCIAL_ANALYST_LLM_MODEL=
NEWS_ANALYST_LLM_MODEL=
FUNDAMENTALS_ANALYST_LLM_MODEL=
BULL_RESEARCHER_LLM_MODEL=
BEAR_RESEARCHER_LLM_MODEL=
RESEARCH_MANAGER_LLM_MODEL=
RISKY_ANALYST_LLM_MODEL=
SAFE_ANALYST_LLM_MODEL=
NEUTRAL_ANALYST_LLM_MODEL=
PORTFOLIO_MANAGER_LLM_MODEL=
TRADER_LLM_MODEL=

# LLM Model Configuration
LLM_MODEL_NAME=llama-3.2-3b-instruct
LLM_MAX_TOKENS=1000

# Base URL resolution order for OpenAI-compatible endpoints:
# 1) OPENAI_BASE_URL  2) LM_STUDIO_BASE_URL  3) LLM_BACKEND_URL
# If any is set, OpenAI-compatible clients will use it and allow a dummy key.
OPENAI_BASE_URL=
LM_STUDIO_BASE_URL=
LLM_BACKEND_URL=https://api.openai.com/v1

# LM Studio Configuration (for local/network inference)
# Uncomment and set these for LM Studio usage:
# LLM_PROVIDER=lm_studio
# LM_STUDIO_BASE_URL=http://your-lm-studio-host:port/v1
# QUICK_THINK_LLM=your-model-name
# DEEP_THINK_LLM=your-model-name
# Optional admin endpoint for LM Studio to request model load/unload
# LM_STUDIO_ADMIN_URL=http://your-lm-studio-host:port/admin
# TTL (ms) for caching model loaded state to avoid excessive polling
# LM_STUDIO_MODEL_CACHE_TTL_MS=30000

# =====================================
# Local LM Studio Configuration (Embeddings)
# =====================================
# For local LM Studio instance running on port 5432 (embeddings)
# These values should match your docker/secrets/lmstudio-local file
LOCAL_LM_STUDIO_HOST=localhost
LOCAL_LM_STUDIO_PORT=5432

# Constructed URLs (will be built from LOCAL_LM_STUDIO_HOST/PORT above)
# LOCAL_LM_STUDIO_BASE_URL=http://${LOCAL_LM_STUDIO_HOST}:${LOCAL_LM_STUDIO_PORT}/v1
# LOCAL_LM_STUDIO_ADMIN_URL=http://${LOCAL_LM_STUDIO_HOST}:${LOCAL_LM_STUDIO_PORT}

# =====================================
# Remote LM Studio Configuration (Docker Secrets)
# =====================================
# For secure remote LM Studio deployment using Docker secrets
# These values should match your docker/secrets/lmstudio-remote file
REMOTE_LM_STUDIO_HOST=your-remote-lm-studio-host
REMOTE_LM_STUDIO_PORT=9876

# Constructed URLs (will be built from REMOTE_LM_STUDIO_HOST/PORT above)
# LM_STUDIO_BASE_URL=http://${REMOTE_LM_STUDIO_HOST}:${REMOTE_LM_STUDIO_PORT}/v1
# LM_STUDIO_ADMIN_URL=http://${REMOTE_LM_STUDIO_HOST}:${REMOTE_LM_STUDIO_PORT}

# =====================================
# API Keys
# =====================================
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here
GOOGLE_API_KEY=your_google_api_key_here

# For embeddings (can be same as OPENAI_API_KEY or different provider):
EMBEDDER_API_KEY=your_embedder_api_key_here
EMBEDDING_API_KEY=your_embedding_api_key_here
EMBEDDING_LLM_URL=
EMBEDDING_MODEL=text-embedding-3-small

# =====================================
# Financial Data Provider API Keys
# =====================================
FINNHUB_API_KEY=your_finnhub_api_key_here
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here
MARKETSTACK_API_KEY=your_marketstack_api_key_here
MARKETSTACK_RATE_LIMIT=5
MARKETSTACK_TIMEOUT=30000
SIMFIN_API_KEY=your_simfin_api_key_here
IEX_CLOUD_TOKEN=your_iex_cloud_token_here

# =====================================
# News API Keys
# =====================================
NEWS_API_KEY=your_news_api_key_here
BRAVE_NEWS_API_KEY=your_brave_news_api_key_here

# =====================================
# Social Media API Keys
# =====================================
TWITTER_BEARER_TOKEN=your_twitter_bearer_token_here

# =====================================
# Reddit API Configuration
# =====================================
REDDIT_CLIENT_ID=your_reddit_client_id_here
REDDIT_CLIENT_SECRET=your_reddit_client_secret_here
REDDIT_USERNAME=your_reddit_username_here
REDDIT_PASSWORD=your_reddit_password_here
REDDIT_REFRESH_TOKEN=your_reddit_refresh_token_here
REDDIT_USER_AGENT=TradingAgents:v1.0.0 (by /u/your_username)
REDDIT_ENABLED=true
REDDIT_SERVICE_URL=http://reddit-service:3001

# =====================================
# Service URLs
# =====================================
YAHOO_FINANCE_URL=http://localhost:3002
GOOGLE_NEWS_URL=http://localhost:3003

# =====================================
# Redis Cache Configuration
# =====================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# For Docker environment, use:
# REDIS_HOST=redis

# =====================================
# Neo4j Database Configuration
# =====================================
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_secure_password_here

# For Docker environment, use:
# NEO4J_URI=bolt://neo4j:7687

# =====================================
# Zep-Graphiti Service Configuration
# =====================================
ZEP_SERVICE_URL=http://localhost:8000
ZEP_API_KEY=your_zep_api_key_here
ZEP_BASE_URL=http://localhost:8000
ZEP_SERVICE_HOST=localhost
ZEP_SERVICE_PORT=8000
ZEP_SERVICE_DEBUG=false

# =====================================
# System Settings
# =====================================
MAX_DEBATE_ROUNDS=1
MAX_RISK_DISCUSS_ROUNDS=1
MAX_RECUR_LIMIT=100
ONLINE_TOOLS=true
LOG_LEVEL=info

# Optional: point to an OpenSSL binary to be used by helper scripts that convert PFX->PEM
# Examples (replace with a path valid for your machine):
# Windows example: OPENSSL_BIN=C:\\path\\to\\OpenSSL\\bin\\openssl.exe
# Unix example:    OPENSSL_BIN=/usr/local/bin/openssl
# If unspecified, scripts will search common locations and PATH.
# IMPORTANT: Put machine-specific paths in your local env (e.g. .env.local). Do NOT commit real paths or secrets.

# Embedding controls
# In production, local fallback embeddings are DISABLED unless this is true
ALLOW_LOCAL_EMBEDDING=false
EMBEDDER_ALLOW_STUB=false

# Memory system settings
CONSIDER_MEMORY=true

# =====================================
# Observability (OpenTelemetry)
# =====================================
ENABLE_OTEL=false
OTEL_SERVICE_NAME=trading-agents-js
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1
OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1

# Development Environment Settings
ENVIRONMENT=development
ZEP_EMBEDDER_DEBUG=false
ZEP_EMBEDDER_LOG_RAW=false
GRAPHITI_TELEMETRY_ENABLED=false

# =====================================
# Test Configuration
# =====================================
RUN_INTEGRATION_TESTS=false
TEST_TIMEOUT=30000

# =====================================
# Directory Settings (optional)
# =====================================
TRADINGAGENTS_RESULTS_DIR=./results
TRADINGAGENTS_DATA_DIR=./data
TRADINGAGENTS_EXPORTS_DIR=./exports
TRADINGAGENTS_CACHE_DIR=./cache
TRADINGAGENTS_LOGS_DIR=./logs
TRADINGAGENTS_PROJECT_DIR=./project

# =====================================
# Security Notes:
# =====================================
# 1. Never commit real API keys to version control
# 2. Use different passwords for development and production  
# 3. Rotate API keys regularly
# 4. Keep .env.local in your .gitignore file
# 5. For production, use proper secrets management (Azure Key Vault, etc.)
